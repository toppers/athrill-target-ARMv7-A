machine:
  extras:
    arch_type: arm
    pseudo_codes:
      - name: arm_add_imm
        inputs:
          cond: PseudoCodeConditionDataType
          S: PseudoCodeUpdateStatusFlagType
          Rd: PseudoCodeRegisterDataType
          Rn: PseudoCodeRegisterDataType
          imm32: PseudoCodeImmediateData32Type
        outputs:
          result: sint32
          status_flag: PseudoCodeStatusFlagType
      - name: arm_mov_imm
        inputs:
          cond: PseudoCodeConditionDataType
          S: PseudoCodeUpdateStatusFlagType
          Rd: PseudoCodeRegisterDataType
          imm32: PseudoCodeImmediateData32Type
        outputs:
          result: sint32
          status_flag: PseudoCodeStatusFlagType
      - name: arm_bl_imm
        inputs:
          cond: PseudoCodeConditionDataType
          imm32: PseudoCodeImmediateData32Type
          type: sint32
        outputs:
          LR: PseudoCodeRegisterDataType
          result: sint32
      - name: arm_ldr_imm
        inputs:
          cond: PseudoCodeConditionDataType
          imm32: PseudoCodeImmediateData32Type
          add: bool
          index: bool
          wback: bool
          Rn: PseudoCodeRegisterDataType
          Rt: PseudoCodeRegisterDataType
        outputs:
          result: sint32
  
decoder:
  namespace: arm

instructions:
  - name: arm_add_imm_a1
    format: xxxx:cond|00|1|0100|x:S|xxxx:Rn|xxxx:Rd|xxxx xxxx xxxx:imm12
    extras:
      clocks: 10
      pseudo_code: arm_add_imm
  - name: push_1
    format: xxxx:cond|1001 00|1|0|1101|xxxx xxxx xxxx xxxx:register_list
    extras:
      clocks: 10
      pseudo_code: arm_add_imm
  - name: arm_mov_imm_a1
    format: xxxx:cond|00|1|1101|x:S|0000|xxxx:Rd|xxxxxxxxxxxx:imm12
    extras:
      clocks: 10
      pseudo_code: arm_mov_imm
  - name: arm_mov_imm_a2
    format: xxxx:cond|0011|0000|xxxx:imm4|xxxx:Rd|xxxxxxxxxxxx:imm12
    extras:
      clocks: 10
      pseudo_code: arm_mov_imm
  - name: arm_bl_a1
    format: xxxx:cond|1011|xxxxxxxxxxxxxxxxxxxxxxxx:imm24
    extras:
      clocks: 10
      pseudo_code: arm_bl_imm
  - name: arm_blx_a2
    format: 1111|101|x:H|xxxxxxxxxxxxxxxxxxxxxxxx:imm24
    extras:
      clocks: 10
      pseudo_code: arm_bl_imm
  - name: arm_str_imm_a1
    format: xxxx:cond|010|x:P|x:U|0|x:W|0|xxxx:Rn|xxxx:Rt|xxxxxxxxxxxx:imm12
    extras:
      clocks: 10
      pseudo_code: arm_add_imm
  - name: arm_ldr_imm_a1
    format: xxxx:cond|010|x:P|x:U|0|x:W|1|xxxx:Rn|xxxx:Rt|xxxxxxxxxxxx:imm12
    extras:
      clocks: 10
      pseudo_code: arm_ldr_imm

